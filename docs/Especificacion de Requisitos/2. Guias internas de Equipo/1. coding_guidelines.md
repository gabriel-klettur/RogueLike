


# üßë‚Äçüíª Gu√≠a de Estilo de C√≥digo para RogueLike

Esta gu√≠a establece las convenciones de c√≥digo que seguimos en el desarrollo del proyecto *RogueLike Top-Down*, para mantener un estilo limpio, coherente y profesional entre todos los desarrolladores del equipo.

---

## üìå 1. Estilo General

- Seguir [PEP8](https://peps.python.org/pep-0008/) como base.
- Usar **tabulaciones (tabs)** para indentaci√≥n, no espacios.
- Usar **nombres descriptivos** y en ingl√©s (excepto en prompts o docs).
- Incluir docstrings para **m√≥dulos**, **clases** y **funciones p√∫blicas**.


Esto tambi√©n implica que en el editor (VSCode, PyCharm, etc.) deber√≠an tener configurado (creo que viene asi por defecto):
- ‚úîÔ∏è `"insertSpaces": false`
- ‚úîÔ∏è `"detectIndentation": false` (si quer√©s que no cambie solo)
- ‚úîÔ∏è `"tabSize": 4` (o el que prefieran visualmente)

---

## üß± 2. Nombres de Variables, Clases y Archivos

| Elemento       | Convenci√≥n           | Ejemplo                       |
|----------------|----------------------|-------------------------------|
| Variables      | `snake_case`         | `player_health`, `map_data`  |
| Funciones      | `snake_case`         | `load_map()`, `move_player()`|
| Clases         | `PascalCase`         | `Player`, `Obstacle`          |
| Constantes     | `UPPER_SNAKE_CASE`   | `TILE_SIZE`, `DEBUG`          |
| Archivos       | `snake_case.py`      | `map_loader.py`, `camera.py` |

---

## üß† 3. Organizaci√≥n de C√≥digo

### En cada archivo `.py`:

1. **Imports ordenados**:
   - Built-in
   - Externas (pygame, websockets, etc.)
   - Internas (proyecto)
   - Ejemplo:

   ```python
   import os
   import time

   import pygame
   import websocket

   from roguelike_project.utils.loader import load_image
   ```

2. **Secciones claras**:
   - Clases y funciones bien separadas.
   - Agregar comentarios del tipo `# ---- Secci√≥n ----` para bloques grandes si aplica.

3. **Evitar l√≥gica compleja en l√≠nea**:
   - Prefiere claridad a trucos en una sola l√≠nea.

---

## üì¶ 4. Estructura de Carpetas y M√≥dulos

- Cada **entidad** (jugador, enemigos, proyectiles) va en su propia carpeta dentro de `entities/`.
- Separar **render**, **stats**, **movimiento**, y **assets** como archivos independientes.
- Crear carpetas en `core/`, `systems/` o `components/` seg√∫n el crecimiento de nuevas mec√°nicas.

---

¬°Perfecto, Gaby! Vamos a desarrollar bien ese punto para dejarlo profesional y claro, **especialmente adaptado a c√≥mo trabajan ustedes dos** en este proyecto. Incluyo ejemplos de nombres de ramas y un sistema ordenado que pueden seguir.

---

## üîÑ 5. Branching y commits

### üóÇÔ∏è Estructura de ramas

Usamos una estructura basada en 3 ramas principales y ramas de trabajo tem√°ticas:

| Rama        | Uso principal                                     |
|-------------|--------------------------------------------------|
| `main`      | Versi√≥n estable (jugable, sin bugs cr√≠ticos).     |
| `develop`   | Versi√≥n de integraci√≥n (features ya testeadas).   |
| `feature/*` | Nuevas funcionalidades.                           |
| `fix/*`     | Correcciones de bugs.                             |
| `refactor/*`| Reestructuraci√≥n de c√≥digo sin cambiar l√≥gica.    |
| `docs/*`    | Cambios exclusivamente en la documentaci√≥n.       |
| `test/*`    | Agregado o mejora de pruebas.                     |
| `style/*`   | Cambios de formato, sin modificar la l√≥gica.      |

---

### ‚ú≥Ô∏è Ejemplos de nombres de ramas

| Tipo        | Nombre de rama                                | Cu√°ndo usarla                                                   |
|-------------|------------------------------------------------|------------------------------------------------------------------|
| `feature/`  | `feature/minimap`                              | Nueva feature (renderizado del minimapa).                        |
| `feature/quests-system`             | Sistema de misiones b√°sico.                                     |
| `fix/`      | `fix/zoom-limit-bug`                           | El zoom no respetaba los l√≠mites (0.5x a 2x).                    |
| `fix/collision-fireball`           | Corrige que las bolas de fuego atraviesen paredes.              |
| `refactor/` | `refactor/player-stats-logic`                  | Reorganizar el manejo de stats del jugador sin cambiar su l√≥gica. |
| `docs/`     | `docs/testing-manual`                          | Agreg√°s un documento en `/docs/testing_manual.md`.               |
| `test/`     | `test/fireball-damage`                         | Agreg√°s pruebas unitarias para da√±o de proyectil.                |
| `style/`    | `style/indentation-tabs`                       | Cambias espacios por tabs en todo el proyecto.                   |

---

### üéØ Buenas pr√°cticas al trabajar con ramas

- Crea ramas **a partir de `develop`**, no desde `main`.
- Pon nombres claros, en ingl√©s (excepto si son documentos internos).
- Cuando termines una rama, hac√© un **Pull Request hacia `develop`**.
- El otro desarrollador revisa antes de hacer merge.
- Una vez por semana (o al cerrar un ciclo), se hace merge de `develop ‚Üí main`.

---

### ‚úÖ Tips extra

- Si una rama contiene **m√°s de una cosa**, probablemente necesite dividirse.
- Si vas a hacer una **experimentaci√≥n r√°pida**, pod√©s usar ramas `wip/<tema>`, donde `wip` = _Work In Progress_.
  - Ejemplo: `wip/ai-experiments`

---

## üõ†Ô∏è 6. Buenas Pr√°cticas

- Usar `DEBUG` como flag global para activar visualizaciones especiales.
- Evitar l√≥gica "hardcodeada" con n√∫meros m√°gicos: definir constantes descriptivas.
- Documentar c√≥digo complejo aunque est√© bien hecho.
- Reutilizar funciones en `utils/` si aplican a m√∫ltiples m√≥dulos.
- Dividir features grandes en subm√≥dulos (por ejemplo: `entities/projectiles/` en lugar de mezclar en `player/`).

---

## üß™ 7. Testing

- Toda l√≥gica susceptible de romperse debe testearse con `unittest` o `pytest` en la carpeta `tests/`.
- Nombrar tests como `test_<funcionalidad>.py` y funciones como `test_cooldown_aplica_correctamente()`.

---

## üßπ 8. Limpieza de C√≥digo

- Usar `black` o `autopep8` (opcional) para formateo autom√°tico.
- Eliminar `print()` o `debugs` antes de hacer merge a `develop`.
- Mantener los m√≥dulos livianos y enfocados en una sola responsabilidad.

---

## ‚úÖ Ejemplo correcto

```python
class Obstacle:
    def __init__(self, x, y, sprite_path="assets/objects/rock.png", size=(64, 64)):
        self.x = x
        self.y = y
        self.rect = pygame.Rect(x + 8, y + 8, 48, 48)
        self.sprite = load_image(sprite_path, size)

    def render(self, screen, camera):
        scaled = pygame.transform.scale(self.sprite, camera.scale((64, 64)))
        screen.blit(scaled, camera.apply((self.x, self.y)))
```

---


